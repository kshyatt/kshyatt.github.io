<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 3.3.0">
  <meta name="generator" content="Hugo 0.53" />

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Katharine Hyatt">

  
  
  
    
  
  <meta name="description" content="In this post I&rsquo;m going to go through my step-by-step process of finding some code in base Julia which is not covered by tests, adding tests which do cover it, checking to make sure the tests pass, and finally opening a pull request to have my changes merged in to Julia itself. We&rsquo;ll be working off commit 0b0a394b3e7741d38f00dbb29895b6ba6a7d0767 if you want to follow along. I do almost all my development on macOS and Linux, so some of the shell commands will be a little different if you&rsquo;re on Windows.">

  
  <link rel="alternate" hreflang="en-us" href="https://kshyatt.github.io/post/firstjuliapr/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#2962ff">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous">
        
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono">
  

  <link rel="stylesheet" href="/styles.css">
  

  
  
  

  
  <link rel="alternate" href="https://kshyatt.github.io/index.xml" type="application/rss+xml" title="Katharine Hyatt">
  <link rel="feed" href="https://kshyatt.github.io/index.xml" type="application/rss+xml" title="Katharine Hyatt">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="https://kshyatt.github.io/post/firstjuliapr/">

  
  
  
  
    
    
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content="Katharine Hyatt">
  <meta property="og:url" content="https://kshyatt.github.io/post/firstjuliapr/">
  <meta property="og:title" content="Making a first Julia pull request | Katharine Hyatt">
  <meta property="og:description" content="In this post I&rsquo;m going to go through my step-by-step process of finding some code in base Julia which is not covered by tests, adding tests which do cover it, checking to make sure the tests pass, and finally opening a pull request to have my changes merged in to Julia itself. We&rsquo;ll be working off commit 0b0a394b3e7741d38f00dbb29895b6ba6a7d0767 if you want to follow along. I do almost all my development on macOS and Linux, so some of the shell commands will be a little different if you&rsquo;re on Windows."><meta property="og:image" content="https://kshyatt.github.io/img/icon-192.png">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2019-01-31T13:39:26-05:00">
  
  <meta property="article:modified_time" content="2019-01-31T16:09:44-05:00">
  

  

  

  <title>Making a first Julia pull request | Katharine Hyatt</title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" role="textbox" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">Katharine Hyatt</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#about">
            
            <span>Home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#publications_featured">
            
            <span>Publications</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#posts">
            
            <span>Posts</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#projects">
            
            <span>Projects</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/tutorial/">
            
            <span>Tutorials</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#contact">
            
            <span>Contact</span>
            
          </a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1 itemprop="name">Making a first Julia pull request</h1>

  

  
    


<meta content="2019-01-31 13:39:26 -0500 EST" itemprop="datePublished">
<meta content="2019-01-31 16:09:44 -0500 EST" itemprop="dateModified">

<div class="article-metadata">

  
  
  
  
  <div>
    <span itemscope itemprop="author" itemtype="http://schema.org/Person">
      <span itemprop="name">
        <a href="/authors/katharine-hyatt/">Katharine Hyatt</a>
      </span>
    </span>
    
  </div>
  
  

  
  <span class="article-date">
    
    
      
          Last updated on
      
    
    <time>Jan 31, 2019</time>
  </span>
  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    14 min read
  </span>
  

  
  

  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Making%20a%20first%20Julia%20pull%20request&amp;url=https%3a%2f%2fkshyatt.github.io%2fpost%2ffirstjuliapr%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fkshyatt.github.io%2fpost%2ffirstjuliapr%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-facebook-f"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fkshyatt.github.io%2fpost%2ffirstjuliapr%2f&amp;title=Making%20a%20first%20Julia%20pull%20request"
         target="_blank" rel="noopener">
        <i class="fab fa-linkedin-in"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=https%3a%2f%2fkshyatt.github.io%2fpost%2ffirstjuliapr%2f&amp;title=Making%20a%20first%20Julia%20pull%20request"
         target="_blank" rel="noopener">
        <i class="fab fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Making%20a%20first%20Julia%20pull%20request&amp;body=https%3a%2f%2fkshyatt.github.io%2fpost%2ffirstjuliapr%2f">
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    







  









  
</div>



  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      

<p>In this post I&rsquo;m going to go through my step-by-step process of finding some code in base Julia which is not covered by tests, adding tests which do cover it, checking to make sure the tests pass, and finally opening a pull request to have my changes merged in to Julia itself. We&rsquo;ll be working off commit <code>0b0a394b3e7741d38f00dbb29895b6ba6a7d0767</code> if you want to follow along. I do almost all my development on macOS and Linux, so some of the shell commands will be a little different if you&rsquo;re on Windows.</p>

<h1 id="prereqs">Prereqs</h1>

<p>To get started, we&rsquo;re going to need a few things:</p>

<ul>
<li>Some basic <code>git</code> knowledge: <code>git add</code>, <code>git clone</code>, <code>git commit</code>, <code>git checkout</code>, and <code>git push</code>. If you need an introduction to <code>git</code>, some decent options are:

<ul>
<li><a href="https://help.github.com/articles/git-and-github-learning-resources/" target="_blank">The GitHub help pages</a></li>
<li><a href="https://git-scm.com/docs" target="_blank">The official git docs</a></li>
<li><a href="https://www.codecademy.com/learn/learn-git" target="_blank">The codecademy intro to git tutorial</a>, which is free</li>
</ul></li>
<li>A source build of Julia, from <code>git clone git@github.com:JuliaLang/julia.git</code> (I use SSH, HTTPS is fine too)</li>
<li>A fork of Julia, since most people making their first pull requests will not have the ability to push branches to the main julia repository.</li>
</ul>

<h1 id="zeroth-step-setting-up-our-fork">Zeroth Step: Setting Up Our Fork</h1>

<p>Having <a href="https://help.github.com/articles/fork-a-repo/" target="_blank">forked</a> the <a href="https://github.com/julialang/julia" target="_blank">main julia repository</a> to your GitHub account, you&rsquo;re ready to create a local <a href="https://git-scm.com/docs/git-clone" target="_blank">clone</a> and let it know about both the upstream repos.
I usually clone julia into a subdirectory of my home directory called <code>projects</code>, so that on a new machine what happens is:</p>

<pre><code class="language-bash">cd ~ # move to the home directory
mkdir -p projects # create the projects directory if it doesn't already exist, otherwise do nothing
cd projects # move to the kshyatt/projects directory
git clone git@github.com:JuliaLang/julia.git
</code></pre>

<p>This will copy the repository from GitHub, including the current state of all the source code as well as all its history. We can look at the <em>remotes</em> of our clone to see other copies of the julia repository our clone is aware of (can fetch/pull/push against). Since we cloned from GitHub, the repository already knows about it:</p>

<pre><code class="language-bash">~/projects $ cd julia # move down into the julia directory post clone
~/projects/julia $ git remote -v # list remotes and their URLs
origin	git@github.com:JuliaLang/julia.git (fetch)
origin	git@github.com:JuliaLang/julia.git (push)
</code></pre>

<p>So our repository knows about its &ldquo;parent&rdquo;. But we probably don&rsquo;t have the ability to write directly to the main Julia repositiory (yet &ndash; who knows what the future holds?), which means we won&rsquo;t be able to create our own branches there. Instead, we will need to use a repository copy we do have the ability to write to &ndash; our fork &ndash; to make our coming changes visible to the wide world. If we cloned from the JuliaLang repo, we need to add another remote for our fork. Usually this will have a URL like: <code>https://github.com/$USERNAME/julia.git</code> or <code>git@github.com:$USERNAME/julia.git</code> where <code>$USERNAME</code> is your GitHub username. To let <code>git</code> know about the second remote, we use <a href="https://git-scm.com/docs/git-remote" target="_blank"><code>git remote add</code></a>:</p>

<pre><code class="language-bash">git remote add $REMOTE_NAME git@github.com:$USERNAME/julia.git
</code></pre>

<p><code>$REMOTE_NAME</code> is the <em>local</em> alias we want to call the second remote by. The remote we cloned from (JuliaLang) gets the alias <code>origin</code>. You can pick any alias you like which doesn&rsquo;t conflict with an existing one. I often use <code>kshyatt</code> because even in the grim depths of 3:24am I can usually remember my own name. So when I do the remote add, it looks like:</p>

<pre><code class="language-bash">git remote add kshyatt git@github.com:kshyatt/julia.git
</code></pre>

<p>And afterwards, if we look at the remotes <code>git</code> knows about:</p>

<pre><code class="language-bash">~/projects/julia $ git remote -v # list remotes and their URLs
kshyatt	git@github.com:kshyatt/julia.git (fetch)
kshyatt	git@github.com:kshyatt/julia.git (push)
origin	git@github.com:JuliaLang/julia.git (fetch)
origin	git@github.com:JuliaLang/julia.git (push)
</code></pre>

<p>With a fork and local knowledge of it, we&rsquo;re ready to find some changes to make.</p>

<h1 id="the-hunt-for-red-lines">The Hunt for Red Lines</h1>

<p>There are many kinds of contributions a person can make to an open source project:</p>

<ul>
<li>New features</li>
<li>Performance improvements</li>
<li>Bug fixes</li>
<li>Test coverage</li>
<li>Documentation improvements</li>
<li>Usage examples</li>
</ul>

<p>If you&rsquo;re just starting out contributing to Julia, and don&rsquo;t have an obvious idea for a feature or a performance enhancement you could write, writing tests or improving docs are a great way to get started. People often disagree about the desirability of a new feature but I almost never see anyone say we should have fewer tests! Writing tests is a good way to learn how Julia works &ndash; or doesn&rsquo;t, if you find a bug. We don&rsquo;t want to write tests just for the sake of having them, though &ndash; we want to test as many julia features as possible in as little time as possible. If we&rsquo;re writing new tests, it&rsquo;s always a good idea to keep the test coverage in mind. Test coverage measures which lines of base (and stdlib) Julia are exercised by the tests. We keep this information current at <a href="https://codecov.io/gh/julialang/julia" target="_blank">codecov</a>. Here&rsquo;s a screenshot:</p>

<p><img src="codecovlanding.png" alt="Codecov landing page" /></p>

<p>We can see the attractive sunburst picture, and a history of recent commits showing their total coverage percentage. On a lark, I picked <code>base/</code> to go hunting for uncovered lines.</p>

<p><img src="basecov.png" alt="Base coverage" /></p>

<p>Here we see each file, with its total lines, covered lines, uncovered lines, and coverage percentage. If we want to increase coverage, we want to pick a file with less than 100% of its lines covered. Keep in mind that these numbers may be less than the true coverage, because right now the coverage-enabled runs of the tests are all done on Unix and some code in Julia is Windows or BSD specific. Tests for such code aren&rsquo;t run by the coverage measurement script.</p>

<p>I happened to scroll down until I came across <code>base/secretbuffer.jl</code>. This file had a lot of uncovered lines, so I thought I had a decent chance of finding some code I could write tests to cover:</p>

<p><img src="findingsecretbuffer.png" alt="Secretbuffer" /></p>

<p>Clicking on the Codecov link opens up an annotated version of the source file, with green coloring representing lines which are covered by tests, and red coloring representing lines which are not. Scrolling down the file, I came across the <code>write</code> method, which writes some data packed into a <code>UInt8</code> into the secret buffer&rsquo;s data:</p>

<p><img src="sbwritemissing.png" alt="Red lines" /></p>

<p>In order to test this, it would probably be good to have some sense of what it does. Having been using Julia since 2015, I probably have a bad heuristic for how easy this is to understand &ndash; if you are looking at it and can&rsquo;t figure it out in about 5 minutes, there&rsquo;s absolutely no shame in logging onto the <a href="https://julialang.slack.com/" target="_blank">Julia Slack</a> and asking! We have <code>#my-first-pr</code> and <code>#helpdesk</code> channels exactly for this. The type itself is defined earlier in the file:</p>

<pre><code class="language-julia">mutable struct SecretBuffer &lt;: IO
    data::Vector{UInt8}
    size::Int
    ptr::Int

    function SecretBuffer(; sizehint=128)
        s = new(Vector{UInt8}(undef, sizehint), 0, 1)
        finalizer(final_shred!, s)
        return s
    end
end
</code></pre>

<p>My attempt at an explanation</p>

<ul>
<li><code>SecretBuffer</code>, like the name implies, is a type which contains some <code>data</code> which you&rsquo;d like to keep secret from prying eyes</li>
<li>It contains information about the total amount of information stored, in the <code>size</code> field</li>
<li>It contains information about where in the <code>data</code> we are currently reading or writing - the <code>pointer</code> field</li>
</ul>

<p>This analogy is a little fuzzy, but if you&rsquo;re confused, imagine the buffer is a piece of paper on which we&rsquo;ve written a message in code. The <code>size</code> is the total number of letters in the message, and the <code>pointer</code> is the letter we are trying to encode or decode at the moment. Then the <code>write</code> function attempts to insert an unsigned 8 bit integer <code>b</code> at the <code>ptr</code> of the input <code>SecretBuffer</code>. The uncovered lines are there to deal with the case where the <code>SecretBuffer</code>&rsquo;s data array is totally full (the <code>ptr</code> is past its <code>length</code>). In the paper analogy, this would mean that we wrote all the way to the bottom right corner and need to turn over to a fresh page.</p>

<h1 id="writing-the-test">Writing the test</h1>

<p>To test this case, what I chose to do was:</p>

<ul>
<li>Create a small <code>SecretBuffer</code> and write up to its data size</li>
<li>Write a little more data, so that it will have to call this untested code and extend <code>data</code> in-place</li>
<li>Make sure all the data I wrote survived the process</li>
</ul>

<p>Julia&rsquo;s tests live in the <code>test/</code> directory, which is in the top-level with <code>base/</code> and <code>stdlib/</code>. From my julia clone, I can see what it contains:</p>

<pre><code class="language-bash">ls ~/projects/julia/test
</code></pre>

<p>If you do this, you&rsquo;ll see there is a file called <code>test/secretbuffer.jl</code>. That looks promising, and indeed, it&rsquo;s where tests for <code>SecretBuffer</code> are (as opposed to tests for another kind of buffer, put there as a prank). Now you can open your favorite text editor and modify the file. I like to see if there is an obvious place to add the tests in the file &ndash; for example, if I&rsquo;m testing a function for subtracting complex numbers, and there are already a bunch of tests for adding them, that would be a natural location to add my test.</p>

<p>Julia test files tend to be organized into <code>testset</code>s, which group similar tests and make it easier to pinpoint where the problem is when one fails. Since we&rsquo;re testing something specific, it makes sense to add our own little testset nested inside the main <code>SecretBuffers</code> testset (as the others are):</p>

<pre><code class="language-julia">    @testset &quot;write! past data size&quot; begin
        # ready to test some stuff in here!
    end
</code></pre>

<p>Testsets get a name, so that if they fail we can see what&rsquo;s broken. It&rsquo;s best to write something descriptive for this rather than &ldquo;aaaaa&rdquo;,  &ldquo;aaaab&rdquo;,  etc. Following what I wrote above, I need to create a small <code>SecretBuffer</code>&hellip;</p>

<pre><code class="language-julia">    @testset &quot;write! past data size&quot; begin
        sb = SecretBuffer(sizehint=2)
    end
</code></pre>

<p>Where <code>sizehint</code> tells Julia how big to make the initial internal <code>data</code> array (you can see this in the type definition I copied above). Now I need to write some data to the buffer to read the end of the data array, which has two slots currently. I picked the biggest integer <code>UInt8</code> can represent, because its bits will all be non-zero (here I am anticipating what I&rsquo;m going to test at the end).</p>

<pre><code class="language-julia">    @testset &quot;write! past data size&quot; begin
        sb = SecretBuffer(sizehint=2)
        # data vector will not grow
        bits = typemax(UInt8)
        write(sb, bits)
        write(sb, bits)
    end
</code></pre>

<p>Now the data vector is fully saturated, and we will test the growing part of it by trying to write one more time:</p>

<pre><code class="language-julia">    @testset &quot;write! past data size&quot; begin
        sb = SecretBuffer(sizehint=2)
        # data vector will not grow
        bits = typemax(UInt8)
        write(sb, bits)
        write(sb, bits)
        # data vector must grow
        write(sb, bits)
    end
</code></pre>

<p>Finally, it would be good to make sure this write didn&rsquo;t silently fail somehow or corrupt the previously written data, so we are going to read back the buffer and make sure its contents are what we expect, which is a <code>String</code> with three identical elements:</p>

<pre><code class="language-julia">    @testset &quot;write! past data size and unsafe_convert&quot; begin
        sb = SecretBuffer(sizehint=2)
        # data vector will not grow
        bits = typemax(UInt8)
        write(sb, bits)
        write(sb, bits)
        # data vector must grow
        write(sb, bits)
        seek(sb, 0)
        @test read(sb, String) == &quot;\xff\xff\xff&quot;
        shred!(sb)
    end
</code></pre>

<p>We <code>seek</code> back to the start of the data to make sure we capture all three elements. We read the buffer as a <code>String</code> and compare with what the result should be. How did I know it would be three <code>\xff</code>?</p>

<pre><code class="language-julia">julia&gt; String([typemax(UInt8)])
&quot;\xff&quot;
</code></pre>

<p>We can make sure the test works by running it. I nearly always use the Makefile to do this, because it will catch whitespace errors, which I make prodiguously.</p>

<pre><code class="language-bash">cd ~/projects/julia
make test-secretbuffer
</code></pre>

<p>You can run any test in <code>test/</code> this way, for example <code>make test-arrayops</code> works too. Assuming the tests pass, we are ready to commit and move on. If they don&rsquo;t pass, you&rsquo;ll need to look at the error message and try to figure out how to fix the test and/or the code it&rsquo;s supposed to be testing.</p>

<h1 id="commiting-and-pushing">Commiting and pushing</h1>

<p>We need to commit our changes and push them to a remote so that we can open a pull request, which will let someone review the proposed changes and (hopefully) merge them. Although it&rsquo;s possible to do this from your <code>master</code> branch, this can very quickly lead to tears. It&rsquo;s better to:</p>

<ol>
<li>Make a new <code>git</code> branch</li>
<li>Commit the changes there</li>
<li>Push that branch to your fork</li>
<li>Open a pull request from the branch on your fork</li>
</ol>

<p>We can use <a href="https://www.git-scm.com/docs/git-checkout" target="_blank"><code>git checkout -b</code></a> to both create a new branch and move over onto it, which will drag all our changes along with. <code>git checkout -b</code> is a shorter way of saying <code>git branch $BRANCH_NAME &amp;&amp; git checkout $BRANCH_NAME</code>. You can choose whatever you like for the branch name, but I tend to prepend with my initials and then use a short description of what the changes were. As an example:</p>

<pre><code class="language-bash">git checkout -b ksh/sbtest
</code></pre>

<p>Now we&rsquo;re ready to <a href="https://www.git-scm.com/docs/git-commit" target="_blank">commit</a>. Since the change was just to one file, and pretty small, we can do a command-line commit and bypass the editor. We&rsquo;ll commit and pass the <code>-m</code> flag with an accompanying <em>commit message</em>, which will tell everyone what the changes do.</p>

<pre><code class="language-bash">git commit test/secretbuffer.jl -m &quot;Added test for write-ing past the pre-existing data length&quot;
</code></pre>

<p>I told <code>git</code> which file(s) to use in the commit and the message to attach to them. The commit will be made to the <code>ksh/sbtest</code> branch. Now I&rsquo;m ready to push. Because, for the purposes of this example, I don&rsquo;t have write access to <code>JuliaLang/julia</code>, I will push to my fork at <code>kshyatt/julia</code> and open the pull request from there. All I have to do is tell <code>git</code> to push to the <code>kshyatt</code> remote I created at the start of this post.</p>

<pre><code class="language-bash">~/projects/julia $ git push kshyatt ksh/sbtest
Enumerating objects: 7, done.
Counting objects: 100% (7/7), done.
Delta compression using up to 8 threads
Compressing objects: 100% (4/4), done.
Writing objects: 100% (4/4), 613 bytes | 306.00 KiB/s, done.
Total 4 (delta 3), reused 0 (delta 0)
remote: Resolving deltas: 100% (3/3), completed with 3 local objects.
remote: 
remote: Create a pull request for 'ksh/sbtest' on GitHub by visiting:
remote:      https://github.com/kshyatt/julia/pull/new/ksh/sbtest
remote: 
To github.com:kshyatt/julia.git
 * [new branch]            ksh/sbtest -&gt; ksh/sbtest
</code></pre>

<p>Hooray! The push to my remote succeeded. The changes have been propagated &ldquo;upstream&rdquo; and can be used to open the pull request.</p>

<p><em>Important Note</em>: Make sure to open the pull request from <code>JuliaLang/julia</code>, and <em>not</em> from your fork!</p>

<p>To open the PR, I open up the <a href="https://github.com/JuliaLang/julia" target="_blank">main Julia repo</a> and lo and behold, GitHub has a suggestion for me! I sure do want to make this pull request, so I hit the green button that says &ldquo;Compare and Pull Request&rdquo;.</p>

<p><img src="forkbutton.png" alt="Comparing with Julia" /></p>

<p>That leads to the comparison screen, where I can see my proposed changes and write some comments describing what they do.</p>

<p><img src="openpr.png" alt="PR editing" /></p>

<p>GitHub has also helpfully used my commit message to title the pull request, and I think it&rsquo;s quite a nice title so I will leave it be. This PR is pretty self-explanatory so I won&rsquo;t write a description in the big text box provided, but it doesn&rsquo;t hurt to do this if you think it might not be obvious what your code does. Don&rsquo;t worry about requesting a reviewer or adding labels if this is your first PR - a maintainer can handle that for you. If everything looks ok, press the &ldquo;Create pull request&rdquo; button. At this point, you can wait for some reviews and maintainers can give you detailed help if your PR needs some changes. It&rsquo;s very common for a PR to need some tweaks &ndash; it happens to me all the time! Although it can feel a little discouraging to have to keep making changes, maintainers are devoting the time to re-reviewing your PR because they think it&rsquo;s good and want it to be the best it can be (just like Julia as a whole). If you want to see the real-life PR that I created in making this post, it&rsquo;s right <a href="https://github.com/JuliaLang/julia/pull/30921" target="_blank">here</a>.</p>

<p>Less than half a minute after I opened the pull request, super speedy reviewer Matt Baumann thought it was alright to merge it.</p>

<p><img src="review.png" alt="Matt attack" /></p>

<p>Now we just had to wait for the continuous integration (CI) servers to run the tests. There are CI servers for Windows, Linux, macOS, ARM, and freeBSD. If &ldquo;the lights turn green&rdquo; (all tests passed), and someone has approved the PR, it should be merged very soon. If 24 hours have passed and it hasn&rsquo;t been merged, feel free to ping the person who approved the PR and ask them if they can merge it for you. Sometimes these things fall by the wayside. Even if CI fails, it may be an incidental failure unrelated to your changes. If it is related, someone will be happy to help you figure out what the problem is, or you can dig through the logs yourself to try to figure it out. If no one reviews your PR after a day or two, you can post a comment on the PR asking for review, or come onto Slack and bug us about it.</p>

    </div>

    





    
      






  
  
    
  
  







      
      
    

    

    


  </div>
</article>

<div class="container">
  <footer class="site-footer">
  

  <p class="powered-by">
    &copy; 2019 &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

</div>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
      

      
      
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.07fbebbbf71b021c8836e1d7ecffa489.js"></script>

  </body>
</html>

